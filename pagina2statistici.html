<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8' />
  <title>Statistici</title>
  <meta name='viewport' content='width=device-width, initial-scale=1' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js'></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.js"></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css' rel='stylesheet' />
<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css' type='text/css' />
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>
<body>

  <div id='map'></div>
  <?php
  $sth = mysqli_query($conn, "SELECT * FROM judet_vaccinati");
  $rows=array();
  while($r = mysqli_fetch_assoc($sth)){
    $rows[]=$r;
  }

  var jsonStr=json_encode($rows);
  print jsonStr;
  ?>
  <script>
   mapboxgl.accessToken = 'pk.eyJ1IjoiYWxleGFuZHJhMTIyMjIiLCJhIjoiY2t3cm5reDVnMHk4ajJ0cW84OTAydWxicyJ9.pi0OAfwT2lkpUQdEkxDaow';
   const map = new mapboxgl.Map({
  container: 'map', // Container ID
  style: 'mapbox://styles/alexandra12222/ckwrnwy0n0ju815t7f6b23642', // Map style to use
  center: [25.0094303, 45.9442858], // Starting position [lng, lat] lat: 45.9442858, lng: 25.0094303
  zoom: 6, // Starting zoom level
});




//Timisoara
var marker = new mapboxgl.Marker()
 .setLngLat([21.22571, 45.75372])
 .addTo(map); // Add the marker to the map
 //Galati
 var marker = new mapboxgl.Marker()
  .setLngLat([28.05, 45.45])
  .addTo(map); // Add the marker to the map45.45 28.05
  //Alba
  var marker = new mapboxgl.Marker()
   .setLngLat([23.58333, 46.06667 ])
   .addTo(map); // Add the marker to the map46.06667 23.58333
 //Hunedoara
   var marker = new mapboxgl.Marker()
    .setLngLat([22.9, 45.75])
    .addTo(map); // Add the marker to the map45.75 22.9
//Sibiu
    var marker = new mapboxgl.Marker()
     .setLngLat([24.15, 45.8])
     .addTo(map); // Add the marker to the map45.8 24.15
     //Cluj
     var marker = new mapboxgl.Marker()
      .setLngLat([23.6, 46.76667])
      .addTo(map); // Add the marker to the map
 // Valcea
      var marker = new mapboxgl.Marker()
       .setLngLat([24.36667, 45.1])
       .addTo(map); // Add the marker to the map 45.1 24.36667
  //Pitesti
       var marker = new mapboxgl.Marker()
        .setLngLat([24.86667, 44.85])
        .addTo(map); // Add the marker to the map 44.85 24.86667
//Braila
   var marker = new mapboxgl.Marker()
         .setLngLat([27.98333, 45.26667])
         .addTo(map); // Add the marker to the map 45.26667 27.98333
     //Arad
    var marker = new mapboxgl.Marker()
          .setLngLat([21.31667, 46.18333])
          .addTo(map); // Add the marker to the map 46.18333 21.31667

          //Buzau
          var marker = new mapboxgl.Marker()
           .setLngLat([26.83333, 45.15])
           .addTo(map); // Add the marker to the map 45.15 26.83333
           //Drobeta
           var marker = new mapboxgl.Marker()
            .setLngLat([22.65611 ,44.63194])
            .addTo(map); // Add the marker to the map44.63194 22.65611
            //Craiova
            var marker = new mapboxgl.Marker()
             .setLngLat([23.8, 44.31667 ])
             .addTo(map); // Add the marker to the map44.31667 23.8
           //Iasi
             var marker = new mapboxgl.Marker()
              .setLngLat([27.6, 47.16667])
              .addTo(map); // Add the marker to the map47.16667 27.6
          //Oradea
              var marker = new mapboxgl.Marker()
               .setLngLat([21.93333, 47.06667])
               .addTo(map); // Add the marker to the map47.06667 21.93333
               //Baia mare
               var marker = new mapboxgl.Marker()
                .setLngLat([23.57949, 47.65331])
                .addTo(map); // Add the marker to the map 47.65331 23.57949
           // Botosani
                var marker = new mapboxgl.Marker()
                 .setLngLat([26.66667, 47.75])
                 .addTo(map); // Add the marker to the map 47.75 26.66667
            //Suceava
                 var marker = new mapboxgl.Marker()
                  .setLngLat([26.25, 47.63333])
                  .addTo(map); // Add the marker to the map 47.63333 26.25
          //Ploiesti
             var marker = new mapboxgl.Marker()
                   .setLngLat([26.01667, 44.95])
                   .addTo(map); // Add the marker to the map 44.95 26.01667
               //Brasov
              var marker = new mapboxgl.Marker()
                    .setLngLat([25.60613, 45.64861])
                    .addTo(map); // Add the marker to the map 45.64861 25.60613

  const geocoder = new MapboxGeocoder({
  // Initialize the geocoder
  accessToken: mapboxgl.accessToken, // Set the access token
  placeholder: 'Search for places in Romania',
  mapboxgl: mapboxgl, // Set the mapbox-gl instance
  marker: false, // Do not use the default marker style
//  bbox: [19.5057541, 47.1611615, 25.4833039, 42.7249925], //42.7249925 25.4833039  Boundary for Romania
  proximity: {
    longitude: 25.0094303,
    latitude: 45.9442858
  }
});

// Add the geocoder to the map
map.addControl(geocoder);
 // Coordinates of UC Berkeley

</script>
</body>
</html>
    <!--<input
      id="pac-input"
      class="controls"
      type="text"
      placeholder="Search Box"
      <div id="map"></div>
    />-->


    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <!--<script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCaLipGKvUk0vzcl8Hd3jUVoVqCUQDndBE&callback=initAutocomplete&libraries=places&v=weekly"
      async
    ></script>-->
